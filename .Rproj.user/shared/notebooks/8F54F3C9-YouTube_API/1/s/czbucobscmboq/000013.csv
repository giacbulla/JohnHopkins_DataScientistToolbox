"0","API_key=""AIzaSyBerKodKhkdaQ_udO--SBLEmwmCFXDuqa4"""
"0","getstats_video<-function(video_id,API_key){"
"0"," "
"0","  url=paste0(""https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id="",video_id,""&key="","
"0","             API_key)"
"0","  result <- fromJSON(txt=url)  "
"0","  salida=list()"
"0","  return(data.frame(name=result$items$snippet$channelTitle, "
"0","                    result$items$statistics,title=result$items$snippet$title,"
"0","                    date=result$items$snippet$publishedAt,"
"0","                    descrip=result$items$snippet$description))"
"0","}"
"0",""
"0","get_playlist_canal<-function(id,API_key,topn=15){"
"0","  "
"0","  url=paste0('https://www.googleapis.com/youtube/v3/playlistItems?part=contentDetails&playlistId=',id,'&key=',API_key,'&maxResults=',topn)"
"0","  "
"0","  result=fromJSON(txt=url)"
"0","  return(data.frame(result$items$contentDetails))"
"0","}"
"0",""
"0","getstats_canal<-function(id,API_key){"
"0",""
"0","url=paste0('https://www.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics&id=',id,'&key=',API_key)"
"0","  "
"0","result <- fromJSON(txt=url)   "
"0","return(data.frame(name=result$items$snippet$title,result$items$statistics,pl_list_id=result$items$contentDetails$relatedPlaylists))"
"0","  "
"0","}"
"0",""
"0","getall_channels<-function(ids,API_key,topn=5){"
"0","  "
"0","  videos=lapply(ids,FUN=get_playlist_canal,API_key=API_key,topn=topn) %>% bind_rows()"
"0","  "
"0","  stats=lapply(videos[,1],FUN=getstats_video,API_key=API_key)"
"0","  stats=bind_rows(stats)"
"0","  stats$vid_id=videos[,1]"
"0","  return(stats)"
"0","}"
"0",""
